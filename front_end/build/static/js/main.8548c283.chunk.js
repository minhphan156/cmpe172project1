(this.webpackJsonpcmpe172project1=this.webpackJsonpcmpe172project1||[]).push([[0],{119:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(7),o=n.n(r),l=(n(93),n(10)),c=n(11),s=n(13),u=n(12),m=n(14),p=n(34),d=n(66),g=n(15);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={isLoggedIn:!1,userInfo:null};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={upload:null};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={files:null};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={fileEdit:null},D=Object(p.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_LOGGED_IN":return f({},e,{isLoggedIn:!0,userInfo:t.payload});case"LOG_OUT":return f({},e,{isLoggedIn:!1,userInfo:null});case"ADMIN_SIGNIN_GET_FILES":return f({},e,{isLoggedIn:!0,userInfo:{firstname:"adminpanel@gmail.com"}});default:return e}},upload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPLOAD_FILE":return y({},e,{upload:t.payload});default:return e}},files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_FILE":return console.log("get all files reducer ",t.payload),j({},e,{files:t.payload});case"ADMIN_SIGNIN_GET_FILES":return console.log("Admin get all files reducer ",t.payload),j({},e,{files:t.payload});case"LOG_OUT":return console.log("Admin get all files reducer ",t.payload),j({},e,{files:null});default:return e}},fileEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_FILE":return I({},e,{fileEdit:t.payload});default:return e}}}),L=[d.a],k=Object(p.e)(D,{},Object(p.d)(p.a.apply(void 0,L),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),A=n(16),C=n(19),P=n(36),x=n(20),_=n(51),N=n(68),T=n.n(N),G=n(69),U=n.n(G),W=n(70),R=n.n(W),B=(n(99),n(100),n(4)),M=n(157),q=n(158),X=n(21),J=n.n(X);Object(_.registerPlugin)(R.a,T.a,U.a);var H=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={description:"",file:null,isSubmit:!1},e.onChange=e.onChange.bind(Object(x.a)(e)),e.onSubmit=e.onSubmit.bind(Object(x.a)(e)),e.handleInit=e.handleInit.bind(Object(x.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.user.isLoggedIn||this.props.history.push("/signin")}},{key:"onChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={description:this.state.description,file:this.state.file[0],email:this.props.user.userInfo.email};this.setState({isSubmit:!0}),this.props.uploadFileAction(t,this.props.history)}},{key:"handleInit",value:function(){console.log("FilePond instance has initialised",this.pond)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto",width:"30%"}},i.a.createElement("div",{style:{color:"white",textAlign:"center",paddingBottom:4,paddingTop:4,borderRadius:4,marginTop:15,backgroundImage:"linear-gradient(to right, #0c4b78, #3d4e96, #2c76a9)"}},i.a.createElement("h2",null,"Upload Files")),i.a.createElement("form",{style:{display:"flex",flexDirection:"column"},onSubmit:this.onSubmit},i.a.createElement(M.a,{id:"outlined-description",value:this.state.description,onChange:this.onChange,name:"description",label:"description",margin:"normal",variant:"outlined",multiline:!0}),i.a.createElement(_.FilePond,{ref:function(t){return e.pond=t},files:this.state.file,allowMultiple:!0,maxFiles:1,oninit:function(){return e.handleInit()},onupdatefiles:function(t){e.setState({file:t.map((function(e){return e.file}))})}}),i.a.createElement(q.a,{type:"submit",variant:"contained",color:"default",style:{marginTop:10,marginBottom:15}},"Upload")))}}]),t}(a.Component),V=Object(A.b)((function(e){return{upload:e.upload,user:e.user}}),{uploadFileAction:function(e,t){return function(n){var a=new FormData;Object.keys(e).forEach((function(t){console.log(t+"-"+e[t]),a.append(t,e[t])})),console.log("============upload action============"),console.log(JSON.stringify(a)),console.log("============upload action============"),J.a.post("/users/upload",a).then((function(e){t.push("/"),n({type:"UPLOAD_FILE",payload:e.data})})).catch((function(e){return console.log(e)}))}}})(Object(B.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:120,maxWidth:300}}}),{withTheme:!0})(H)),$=n(148),z=n(149),K=n(150),Q=n(152),Y=n(156),Z=n(155),ee=n(153),te=n(154),ne=n(120),ae=function(){return{type:"LOG_OUT"}},ie=function(e){return function(t){J.a.post("/users/getAllFiles",{email:e}).then((function(e){console.log("getAllFilesAction-",e),t({type:"GET_ALL_FILE",payload:e.data})})).catch((function(e){return console.log(e)}))}},re=function(e,t){return function(n){J.a.post("/users/adminGetAllFiles",e).then((function(e){console.log("getAllFilesAction-",e),n({type:"ADMIN_SIGNIN_GET_FILES",payload:e.data}),t.push("/adminpage")})).catch((function(e){return console.log(e)}))}},oe=function(e,t){return t.push("/editfile"),{type:"EDIT_FILE",payload:e}},le=n(151),ce=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(){n.props.logoutAction()},n.handleEditFile=function(e){n.props.editFileAction(e,n.props.history)},n.handleDeleteFile=function(e){n.props.deleteFileAction(e,n.props.history)},n.createData=function(e,t,n,a,i,r,o,l){return{email:e,filename:t,description:n,uploadtime:a,updatedtime:i,download:r,editfile:o,deletefile:l}},n.renderFilesList=function(e){var t=[];return e.forEach((function(e){t.push(n.createData(e.email,e.filename,e.description,e.uploadtime,e.updatedtime,i.a.createElement("a",{target:"_parent",href:e.url},"download"),i.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){return n.handleEditFile(e)}},"Edit"),i.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){return n.handleDeleteFile(e)}},"Delete")))})),t},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.user.isLoggedIn||this.props.history.push("/signin")}},{key:"componentDidMount",value:function(){this.props.user.userInfo&&this.props.getAllFilesAction(this.props.user.userInfo.email)}},{key:"render",value:function(){var e=this.props.classes;return this.props.user.isLoggedIn?i.a.createElement($.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3},i.a.createElement($.a,{item:!0,xs:12},i.a.createElement(z.a,{style:{backgroundImage:"linear-gradient(to right, #0c4b78, #3d4e96, #2c76a9)"}},i.a.createElement(K.a,null,i.a.createElement(le.a,{variant:"h6",style:{color:"white",marginLeft:10}},"Hi ",this.props.user.userInfo.firstname,"!"),i.a.createElement(C.b,{style:{color:"white",marginLeft:"auto",marginRight:0},to:"/uploadpage"},"Upload Files"),i.a.createElement(C.b,{onClick:this.handleLogout,style:{color:"white",marginLeft:"auto",marginRight:0},to:"/signin"},"Log out")))),i.a.createElement($.a,{item:!0,xs:12,style:{marginTop:100}},i.a.createElement(ne.a,{className:e.root},i.a.createElement(Q.a,{className:e.table,"aria-label":"simple table"},i.a.createElement(ee.a,null,i.a.createElement(te.a,null,i.a.createElement(Z.a,null,i.a.createElement("b",null,"Email")),i.a.createElement(Z.a,{align:"right"},i.a.createElement("b",null,"File name")),i.a.createElement(Z.a,{align:"right"},i.a.createElement("b",null,"Description")),i.a.createElement(Z.a,{align:"right"},i.a.createElement("b",null,"Upload time")),i.a.createElement(Z.a,{align:"right"},i.a.createElement("b",null,"Updated time")),i.a.createElement(Z.a,{align:"right"},i.a.createElement("b",null,"download")),i.a.createElement(Z.a,{align:"right"},i.a.createElement("b",null,"Edit time")),i.a.createElement(Z.a,{align:"right"},i.a.createElement("b",null,"Delete File")))),i.a.createElement(Y.a,null,this.props.files?this.renderFilesList(this.props.files).map((function(e){return i.a.createElement(te.a,{key:e.email+e.filename},i.a.createElement(Z.a,{component:"th",scope:"row"},e.email),i.a.createElement(Z.a,{align:"right"},e.filename),i.a.createElement(Z.a,{align:"right"},e.description),i.a.createElement(Z.a,{align:"right"},e.uploadtime),i.a.createElement(Z.a,{align:"right"},e.updatedtime),i.a.createElement(Z.a,{align:"right"},e.download),i.a.createElement(Z.a,{align:"right"},e.editfile),i.a.createElement(Z.a,{align:"right"},e.deletefile))})):null))))):i.a.createElement("div",null)}}]),t}(a.Component),se=Object(A.b)((function(e){return{user:e.user,files:e.files.files}}),{logoutAction:ae,getAllFilesAction:ie,editFileAction:oe,deleteFileAction:function(e,t){return function(n){J.a.post("/users/deletefile",e).then((function(a){console.log("deletefileaction-",a),n(ie(e.email)),t.push("/")})).catch((function(e){console.log(e)}))}}})(Object(P.e)(Object(B.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:650}})(ce))),ue=n(73),me=n.n(ue),pe=n(74),de=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={isLoggedIn:!1,userID:"",name:"",email:"",picture:""},n.componentClicked=function(){return console.log("clicked")},n.responseFacebook=function(e){console.log("facebook login response"),console.log(e);var t={firstName:e.name.split(" ").slice(0,-1).join(" "),lastName:e.name.split(" ").slice(-1).join(" "),email:e.email,password:"facebooklogin"};n.props.loginWithFacebookGoogle(t,n.props.history)},n.responseGoogle=function(e){console.log("google login response");var t={firstName:e.w3.ofa,lastName:e.w3.wea,email:e.w3.U3,password:"googlelogin"};n.props.loginWithFacebookGoogle(t,n.props.history)},n.onFailure=function(e){console.log("google login error ",e)},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e;return e=this.state.isLoggedIn?null:i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.a.createElement(me.a,{style:{borderRadius:2},appId:"3146580042050394",autoLoad:!1,fields:"name,email,picture",onClick:this.componentClicked,callback:this.responseFacebook}),i.a.createElement("br",null),i.a.createElement(pe.GoogleLogin,{style:{width:242},clientId:"457180824943-lv16voqfvsiurmjcesmbp6qq9t9iv03o.apps.googleusercontent.com",buttonText:"Login",onSuccess:this.responseGoogle,onFailure:this.onFailure}),i.a.createElement("br",null)),i.a.createElement("div",null,e)}}]),t}(a.Component),ge=Object(A.b)((function(e){return{}}),{loginWithFacebookGoogle:function(e,t){return function(n){J.a.post("/users/loginWithFacebook",e).then((function(a){console.log("loginWithFacebook or google action",a),n({type:"IS_LOGGED_IN",payload:e}),t.push("/"),alert("Successfully login facebook account client.")})).catch((function(e){alert("There was an error login facebook account client."),console.log(e)}))}}})(de),he=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSignInFormChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t={password:n.state.password,email:n.state.email};n.props.verifyAccount(t,n.props.history),e.preventDefault()},n.state={email:"",password:""},n.handleSubmit=n.handleSubmit.bind(Object(x.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto",marginTop:"10%",width:"30%"}},i.a.createElement("form",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},onSubmit:this.handleSubmit},i.a.createElement("h2",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},"Sign In"),i.a.createElement(M.a,{id:"outlined-email",value:this.state.email,onChange:this.handleSignInFormChange,name:"email",label:"email",margin:"normal",variant:"outlined"}),i.a.createElement(M.a,{id:"outlined-password",type:"password",value:this.state.password,onChange:this.handleSignInFormChange,name:"password",label:"Password",margin:"normal",variant:"outlined"}),i.a.createElement(q.a,{type:"submit",variant:"contained",color:"primary",style:{marginTop:10,marginBottom:15}},"Sign in"),i.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},i.a.createElement(ge,{history:this.props.history}),i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.a.createElement(C.b,{to:"/signup"}," Sign up")," ",i.a.createElement("br",null),i.a.createElement(C.b,{to:"/AdminSignInPage"}," Admin Sign in Page")))))}}]),t}(a.Component),fe=Object(A.b)((function(e){return{}}),{verifyAccount:function(e,t){return function(n){J.a.post("/users/verifyuser",e).then((function(e){console.log("push to homepage"),n({type:"IS_LOGGED_IN",payload:e.data}),t.push("/")})).catch((function(e){alert("There was an error verify your account client."),console.log(e)}))}}})(Object(P.e)(he)),be=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSignUpFormChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t={firstName:n.state.firstName,password:n.state.password,lastName:n.state.lastName,email:n.state.email};console.log("handlesubmit Sign up"),n.props.createAccount(t,n.props.history),e.preventDefault()},n.state={firstName:"",password:"",lastName:"",email:""},n.handleSubmit=n.handleSubmit.bind(Object(x.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"signup"},i.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto",marginTop:"10%",width:"30%"}},i.a.createElement("h2",null,"Create an Account"),i.a.createElement("form",{style:{display:"flex",flexDirection:"column"},onSubmit:this.handleSubmit},i.a.createElement(M.a,{required:!0,id:"outlined-firstName",value:this.state.firstName,onChange:this.handleSignUpFormChange,name:"firstName",label:"First name",margin:"normal",variant:"outlined"}),i.a.createElement(M.a,{required:!0,id:"outlined-lastName",value:this.state.lastName,onChange:this.handleSignUpFormChange,name:"lastName",label:"Last name",margin:"normal",variant:"outlined"}),i.a.createElement(M.a,{required:!0,id:"outlined-password",type:"password",value:this.state.password,onChange:this.handleSignUpFormChange,name:"password",label:"Password",margin:"normal",variant:"outlined"}),i.a.createElement(M.a,{required:!0,id:"outlined-email",value:this.state.email,onChange:this.handleSignUpFormChange,name:"email",label:"email",margin:"normal",variant:"outlined"}),i.a.createElement(q.a,{type:"submit",variant:"contained",color:"primary",style:{marginTop:10,marginBottom:15}},"Sign Up")),i.a.createElement("br",null),"Already have an account? ",i.a.createElement(C.b,{to:"/signin"},"Sign in")))}}]),t}(a.Component),Ee=Object(A.b)((function(e){return{}}),{createAccount:function(e,t){return function(n){J.a.post("/users/newuser",e).then((function(a){console.log("new account created ",a),t.push("/"),n({type:"IS_LOGGED_IN",payload:e}),alert("Successfully created account client.")})).catch((function(e){alert("There was an error creating your account client."),console.log(e)}))}}})(be),ye=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSignInFormChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t={password:n.state.password,email:n.state.email};n.props.adminGetAllFilesAction(t,n.props.history),e.preventDefault()},n.state={email:"adminpanel@gmail.com",password:"adminminhphan172"},n.handleSubmit=n.handleSubmit.bind(Object(x.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.logoutAction()}},{key:"render",value:function(){return i.a.createElement("div",{className:"signin"},i.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto",marginTop:"10%",width:"30%"}},i.a.createElement("h2",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},"Sign In"),i.a.createElement("form",{style:{display:"flex",flexDirection:"column"},onSubmit:this.handleSubmit},i.a.createElement(M.a,{id:"outlined-email",value:this.state.email,onChange:this.handleSignInFormChange,name:"email",label:"email",margin:"normal",variant:"outlined"}),i.a.createElement(M.a,{id:"outlined-password",type:"password",value:this.state.password,onChange:this.handleSignInFormChange,name:"password",label:"Password",margin:"normal",variant:"outlined"}),i.a.createElement(q.a,{type:"submit",variant:"contained",color:"primary",style:{marginTop:10,marginBottom:15}},"Sign In"))))}}]),t}(a.Component),Oe=Object(A.b)((function(e){return{}}),{adminGetAllFilesAction:re,logoutAction:ae})(Object(P.e)(ye)),ve=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={description:null,file:null,isSubmit:!1},e.onChange=e.onChange.bind(Object(x.a)(e)),e.onSubmit=e.onSubmit.bind(Object(x.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fileEdit&&this.setState({description:this.props.fileEdit.description})}},{key:"onChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={description:this.state.description,filename:this.props.fileEdit.filename,email:this.props.user.userInfo.email};this.setState({isSubmit:!0}),this.props.editFileDataBase(t,this.props.history)}},{key:"render",value:function(){var e=this.props.fileEdit;return console.log("fileEdit=",e),console.log("fileEdit state=",this.state.description),i.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto",width:"30%"}},i.a.createElement("div",{style:{color:"white",textAlign:"center",paddingBottom:4,paddingTop:4,borderRadius:4,marginTop:15,backgroundImage:"linear-gradient(to right, #0c4b78, #3d4e96, #2c76a9)"}},i.a.createElement("h2",null,"Edit Files")),i.a.createElement("form",{style:{display:"flex",flexDirection:"column"},onSubmit:this.onSubmit},i.a.createElement(M.a,{id:"outlined-description",value:this.state.description,onChange:this.onChange,name:"description",label:"description",margin:"normal",variant:"outlined",multiline:!0}),i.a.createElement(q.a,{type:"submit",variant:"contained",color:"default",style:{marginTop:10,marginBottom:15}},"Submit Edit")))}}]),t}(a.Component),je=Object(A.b)((function(e){return{fileEdit:e.fileEdit.fileEdit,user:e.user}}),{editFileAction:oe,editFileDataBase:function(e,t){return function(n){J.a.post("/users/editfile",e).then((function(e){console.log("file edited successfully"),t.push("/")})).catch((function(e){console.log(e)}))}}})(Object(B.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:120,maxWidth:300}}}),{withTheme:!0})(ve)),we=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(){n.props.logoutAction()},n.handleDeleteFile=function(e){n.props.adminDeleteFileAction(e,n.props.history)},n.createData=function(e,t,n,a,i,r,o){return{email:e,filename:t,description:n,uploadtime:a,updatedtime:i,download:r,deletefile:o}},n.renderFilesList=function(e){var t=[];return e.forEach((function(e){t.push(n.createData(e.email,e.filename,e.description,e.uploadtime,e.updatedtime,i.a.createElement("a",{target:"_parent",href:e.url},"download"),i.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){return n.handleDeleteFile(e)}},"Delete")))})),t},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.user.isLoggedIn||this.props.history.push("/signin")}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement($.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3},i.a.createElement($.a,{item:!0,xs:12},i.a.createElement(z.a,{style:{backgroundImage:"linear-gradient(to right, #0c4b78, #3d4e96, #2c76a9)"}},i.a.createElement(K.a,null,i.a.createElement(le.a,{variant:"h6",style:{color:"white",marginLeft:10}},"Hi"," ",this.props.user.userInfo?this.props.user.userInfo.firstname:null,"!"),i.a.createElement(C.b,{onClick:this.handleLogout,style:{color:"white",marginLeft:"auto",marginRight:0},to:"/signin"},"Log out")))),i.a.createElement($.a,{item:!0,xs:12,style:{marginTop:100}},i.a.createElement(ne.a,{className:e.root},i.a.createElement(Q.a,{className:e.table,"aria-label":"simple table"},i.a.createElement(ee.a,null,i.a.createElement(te.a,null,i.a.createElement(Z.a,null,i.a.createElement("b",null,"Email")),i.a.createElement(Z.a,{align:"right"},i.a.createElement("b",null,"File name")),i.a.createElement(Z.a,{align:"right"},i.a.createElement("b",null,"Description")),i.a.createElement(Z.a,{align:"right"},i.a.createElement("b",null,"Upload time")),i.a.createElement(Z.a,{align:"right"},i.a.createElement("b",null,"Updated time")),i.a.createElement(Z.a,{align:"right"},i.a.createElement("b",null,"download")),i.a.createElement(Z.a,{align:"right"},i.a.createElement("b",null,"Delete File")))),i.a.createElement(Y.a,null,this.props.files?this.renderFilesList(this.props.files).map((function(e){return i.a.createElement(te.a,{key:e.email+e.filename},i.a.createElement(Z.a,{component:"th",scope:"row"},e.email),i.a.createElement(Z.a,{align:"right"},e.filename),i.a.createElement(Z.a,{align:"right"},e.description),i.a.createElement(Z.a,{align:"right"},e.uploadtime),i.a.createElement(Z.a,{align:"right"},e.updatedtime),i.a.createElement(Z.a,{align:"right"},e.download),i.a.createElement(Z.a,{align:"right"},e.deletefile))})):null)))))}}]),t}(a.Component),Se=Object(A.b)((function(e){return{user:e.user,files:e.files.files}}),{adminDeleteFileAction:function(e,t){return function(n){J.a.post("/users/deletefile",e).then((function(e){console.log("deletefileaction-",e),n(re({password:"adminminhphan172",email:"adminpanel@gmail.com"})),t.push("/adminpage")})).catch((function(e){console.log(e)}))}},adminGetAllFilesAction:re,logoutAction:ae})(Object(P.e)(Object(B.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:650}})(we))),Ie=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(A.a,{store:k},i.a.createElement(C.a,null,i.a.createElement(P.a,{exact:!0,path:"/",component:se}),i.a.createElement(P.a,{exact:!0,path:"/adminpage",component:Se}),i.a.createElement(P.a,{exact:!0,path:"/AdminSignInPage",component:Oe}),i.a.createElement(P.a,{exact:!0,path:"/signin",component:fe}),i.a.createElement(P.a,{exact:!0,path:"/signup",component:Ee}),i.a.createElement(P.a,{exact:!0,path:"/uploadpage",component:V}),i.a.createElement(P.a,{exact:!0,path:"/editfile",component:je})))}}]),t}(a.Component),Fe=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(Ie,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(Fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},88:function(e,t,n){e.exports=n(119)},93:function(e,t,n){}},[[88,1,2]]]);
//# sourceMappingURL=main.8548c283.chunk.js.map